<!DOCTYPE html>

<html>
<head>
  <title>Intents Lab</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../../../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>Intents Lab</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h2 id="intents-annotated-code">Intents Annotated Code</h2>
<p>This is the source code for intents Lab the focus of this code 
is working with the created intent. This will aid you in understanding intents </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> Alexa = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ask-sdk-core'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1 id="launch-request-handler"><code>launch request handler</code></h1>
<p>The launch request handler is used to start the skill
When a customer starts your skill by saying, “Open LinuxAcademy Lab” your skill receives 
a request of type “LaunchRequest.”
To handle this request, an object of type LaunchRequestHandler is created in code. 
You can name the lauch request handler anything you want. 
I suggest you standardize and create a nameing convention and give your handlers
a name related to the type of request it they handle. 
In this case its called LaunchRequestHandler, </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>

<span class="hljs-keyword">const</span> LaunchRequestHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'LaunchRequest'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">'Welcome to the Linux Academy Skill Builder intents Lab. Say hello and I will ask you your name.'</span>;
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .reprompt(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h1 id="helloworldintent"><code>HelloWorldIntent</code></h1>
<p>Hello World Intent Handler Handles  IntentRequest named HelloWorldIntent</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> HelloWorldIntentHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>
            &amp;&amp; handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'HelloWorldIntent'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> slots = handlerInput.requestEnvelope.request.intent.slots;
        <span class="hljs-keyword">const</span> name = slots[<span class="hljs-string">'name'</span>].value;
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`Hello <span class="hljs-subst">${name}</span>.`</span>
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .withSimpleCard(<span class="hljs-string">'I learned your name, its '</span>, name)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h1 id="helpintenthandler"><code>HelpIntentHandler</code></h1>
<p>The help intent handler will helpe the user when they ask for help</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> HelpIntentHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>
            &amp;&amp; handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'AMAZON.HelpIntent'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">'You can tell me your name so I can say hello to you, How can I help?'</span>;

        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .reprompt(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <h1 id="cancelandstopintenthandler"><code>CancelAndStopIntentHandler</code></h1>
<p>A built in intent to handle the Cancel and Stop requests. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> CancelAndStopIntentHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>
            &amp;&amp; (handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'AMAZON.CancelIntent'</span>
                || handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'AMAZON.StopIntent'</span>);
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">'Goodbye!'</span>;
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h1 id="sessionendedrequesthandler"><code>SessionEndedRequestHandler</code></h1>
<p>This is a built in request that notest the session is ended
Note: No auido is output by this intent as the session is ended. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> SessionEndedRequestHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'SessionEndedRequest'</span>;
    },
    handle(handlerInput) {</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Any cleanup logic goes here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span> handlerInput.responseBuilder.getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <h1 id="intentreflectorhandler"><code>IntentReflectorHandler</code></h1>
<p>The intent reflector is used for interaction model testing and debugging.
It will simply repeat the intent the user said. You can create custom handlers
for your intents by defining them above, then also adding them to the request
handler chain below.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> IntentReflectorHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> intentName = handlerInput.requestEnvelope.request.intent.name;
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`You just triggered <span class="hljs-subst">${intentName}</span>`</span>;

        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>.reprompt(‘add a reprompt if you want to keep the session open for the user to respond’)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <h1 id="errorhandler"><code>ErrorHandler</code></h1>
<p>When the interactio model recieves an utterance it can not handle the Error handler is executed. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> ErrorHandler = {
    canHandle() {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    handle(handlerInput, error) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`~~~~ Error handled: <span class="hljs-subst">${error.message}</span>`</span>);
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`Sorry, I couldn't understand what you said. Please try again.`</span>;

        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .reprompt(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
            <code>Skill Builder Entry Pint</code>
            <p> <br>
              This handler acts as the entry point for your skill, routing all request and response
                payloads to the handlers above. Make sure any new handlers or interceptors you’ve
                defined are included below. The order matters - they’re processed top to bottom.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.handler = Alexa.SkillBuilders.custom()
    .addRequestHandlers(
        LaunchRequestHandler,
        HelloWorldIntentHandler,
        HelpIntentHandler,
        CancelAndStopIntentHandler,
        SessionEndedRequestHandler,
        IntentReflectorHandler) <span class="hljs-comment">// make sure IntentReflectorHandler is last so it doesn't override your custom intent handlers</span>
    .addErrorHandlers(
        ErrorHandler)
    .lambda();</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
