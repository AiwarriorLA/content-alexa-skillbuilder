<!DOCTYPE html>

<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="../../docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>index.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h2 id="intents-annotated-code">Intents Annotated Code</h2>
<p>This is the source code for Slots Lab the focus of this code 
is working with the created slots. This will aid you in understanding slots</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> Alexa = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ask-sdk-core'</span>);

<span class="hljs-keyword">const</span> HelloInfo = [
  <span class="hljs-string">'It was nice getting to know you '</span>,
  <span class="hljs-string">'Thanks for telling me about yourself '</span>,
  <span class="hljs-string">'I Hope you learned something '</span>,
];</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h1 id="launch-request-handler"><code>launch request handler</code></h1>
<p>The launch request handler is used to start the skill
When a customer starts your skill by saying, “Open LinuxAcademy Lab” your skill receives 
a request of type “LaunchRequest.”
To handle this request, an object of type LaunchRequestHandler is created in code. 
You can name the lauch request handler anything you want. 
I suggest you standardize and create a nameing convention and give your handlers
a name related to the type of request it they handle. 
In this case its called LaunchRequestHandler, </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> LaunchRequestHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'LaunchRequest'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">'You can say hello an i will ask you your name. Or tell me where your from?'</span>;
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .reprompt(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <h1 id="helloworldintent"><code>HelloWorldIntent</code></h1>
<p>This is code to demonstrate addDelegateDirective
This will continue the conversation this demonstrates the slots are not passed between intents
As the name value will not be passed even though it was filled when this intent was completed. 
You will need to use session attributes to pass the values between intents. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> HelloWorldIntentHandler = {
    canHandle(handlerInput) {
          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' canHandle HelloWorldIntentHandler'</span>);
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>
            &amp;&amp; handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'HelloWorldIntent'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' entered handle HelloWorldIntentHandler'</span>);
        <span class="hljs-keyword">const</span> slots = handlerInput.requestEnvelope.request.intent.slots;
        <span class="hljs-keyword">const</span> name = slots[<span class="hljs-string">'name'</span>].value;
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`Hello : <span class="hljs-subst">${name}</span>.`</span>
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
 
            .speak(speechText)
            .addDelegateDirective(<span class="hljs-string">'WhereDoYouLiveIntent'</span>)
            .withSimpleCard(<span class="hljs-string">'I learned your name'</span>, speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h1 id="starteddgettingtoknowyouhandler"><code>StarteddGettingToKnowYouHandler</code></h1>
<p>This is code to demonstrate Entiy resolutionsPerAuthority 
while managing your own dialog model this demonstrates validation of slots 
Ciy will be resolved an return with entity resolution while Name will not because
The slot is a built in type. This can be shown in the json reponse. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> StarteddGettingToKnowYouHandler = {
  canHandle(handlerInput) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">' canHandle StarteddGettingToKnowYouHandler'</span>);
    <span class="hljs-keyword">const</span> request = handlerInput.requestEnvelope.request;
    <span class="hljs-keyword">return</span> request.type === <span class="hljs-string">'IntentRequest'</span> &amp;&amp;  request.intent.name === <span class="hljs-string">'WhereDoYouLiveIntent'</span>  &amp;&amp; request.dialogState === <span class="hljs-string">'STARTED'</span>;
  },
  handle(handlerInput) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'entered StarteddGettingToKnowYouHandler'</span>);
    <span class="hljs-keyword">const</span> currentIntent = handlerInput.requestEnvelope.request.intent; 
    <span class="hljs-keyword">let</span> myName = currentIntent.slots.name;

    
    currentIntent.slots.name.value =  getUserDefaultName();
    
    <span class="hljs-keyword">const</span> slotValues = getSlotValues(currentIntent.slots);

        <span class="hljs-keyword">if</span> (slotValues[<span class="hljs-string">'name'</span>].value === <span class="hljs-literal">undefined</span> || slotValues[<span class="hljs-string">'name'</span>] === <span class="hljs-literal">null</span> || slotValues[<span class="hljs-string">'name'</span>].synonym === <span class="hljs-string">'slim shady'</span> ) {
            
            <span class="hljs-keyword">const</span> city = slotValues[<span class="hljs-string">'city'</span>].synonym;
            <span class="hljs-keyword">const</span> name = slotValues[<span class="hljs-string">'name'</span>].synonym;
            <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`Cool your from <span class="hljs-subst">${city}</span>. whats your name`</span>
			<span class="hljs-keyword">return</span> handlerInput.responseBuilder
				.speak(speechText)
				.addElicitSlotDirective(<span class="hljs-string">'name'</span>)
				.getResponse();
		}<span class="hljs-keyword">else</span> {
		    
         <span class="hljs-keyword">const</span> name = slotValues[<span class="hljs-string">'name'</span>].synonym;
         <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`Cool your name is <span class="hljs-subst">${name}</span>.`</span>
         
		 <span class="hljs-keyword">return</span> handlerInput.responseBuilder
		.speak(speechText)
	    .addDelegateDirective(currentIntent)
        .getResponse();
		    
		}
    

    
  },
};</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <h1 id="inprogressgettingtoknowyoumorehandler"><code>InprogressGettingToKnowYouMoreHandler</code></h1>
<p>This is code to demonstrate manual slot confirmation 
while managing your own dialog model you can force non mandatory slots confirmation 
Dynamically in code even if the interaction model does not define them as mandatory to fill the slot. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> InprogressGettingToKnowYouMoreHandler = {
  canHandle(handlerInput) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'canHandle InprogressGettingToKnowYouMoreHandler'</span>);
    <span class="hljs-keyword">const</span> request = handlerInput.requestEnvelope.request;
    <span class="hljs-keyword">return</span> request.type === <span class="hljs-string">'IntentRequest'</span> &amp;&amp;
      request.intent.name === <span class="hljs-string">'WhereDoYouLiveIntent'</span> &amp;&amp;
      handlerInput.requestEnvelope.request.intent.slots.name.confirmationStatus === <span class="hljs-string">"NONE"</span> &amp;&amp;
      request.dialogState === <span class="hljs-string">'IN_PROGRESS'</span>;
  },
  handle(handlerInput) {
    <span class="hljs-keyword">const</span> currentIntent = handlerInput.requestEnvelope.request.intent;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'entered handler InprogressGettingToKnowYouMoreHandler'</span>);
    <span class="hljs-keyword">const</span> slotValues = getSlotValues(currentIntent.slots);
    <span class="hljs-keyword">const</span> name = slotValues[<span class="hljs-string">'name'</span>].synonym;
    <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`great your name is  <span class="hljs-subst">${name}</span> did i get that right`</span>
    <span class="hljs-keyword">return</span> handlerInput.responseBuilder
      .speak(speechText)
      .addConfirmSlotDirective(<span class="hljs-string">"name"</span>)
      .getResponse();
  },
};</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <h1 id="delegatebacktoalexahandler"><code>delegateBacktoAlexaHandler</code></h1>
<p>This is code to demonstrate returning the slot validation for the intent back to Alexa dialog managment 
For complex slot you may need to use manual methods but in the case where you just want alexa to collect the slot 
Because the slot is defined as required to fulfill the intent this code will just return a directive for the current slot 
The Ask SDK will then use the dialog models and prompts for the mandatory slots and attempt to fill them. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> delegateBacktoAlexaHandler = {
  canHandle(handlerInput) {
     <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'can Handle delegateBacktoAlexaHandler'</span>);
    <span class="hljs-keyword">const</span> request = handlerInput.requestEnvelope.request;
    <span class="hljs-keyword">return</span> request.type === <span class="hljs-string">'IntentRequest'</span> &amp;&amp; 
      request.intent.name === <span class="hljs-string">'WhereDoYouLiveIntent'</span> &amp;&amp;
      request.dialogState === <span class="hljs-string">'IN_PROGRESS'</span>;
  },
  handle(handlerInput) {
       <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'can Handle delegateBacktoAlexaHandler'</span>);
       <span class="hljs-keyword">const</span> currentIntent = handlerInput.requestEnvelope.request.intent;
    
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(<span class="hljs-string">"Ok lets see if I know you now."</span>)
            .addDelegateDirective(currentIntent)
            .withSimpleCard(<span class="hljs-string">'What I learned'</span>)
            .getResponse();
  },
};</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <h1 id="completedgettingtoknowyouhandler"><code>CompletedGettingToKnowYouHandler</code></h1>
<p>This is code to demonstrate the dialog state being set to complete because all the required slots are filled 
The code then builds the reponse based on the values in the slots, this code will only execute when the dialog state is complete</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> CompletedGettingToKnowYouHandler = {
  canHandle(handlerInput) {
     <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'can Handle CompletedGettingToKnowYouHandler'</span>);
    <span class="hljs-keyword">const</span> request = handlerInput.requestEnvelope.request;
    <span class="hljs-keyword">return</span> request.type === <span class="hljs-string">'IntentRequest'</span> &amp;&amp; 
      request.intent.name === <span class="hljs-string">'WhereDoYouLiveIntent'</span> &amp;&amp;
      request.dialogState === <span class="hljs-string">'COMPLETED'</span>;
  },
  handle(handlerInput) {
       <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'can Handle CompletedGettingToKnowYouHandler'</span>);
    <span class="hljs-keyword">const</span> slots = handlerInput.requestEnvelope.request.intent.slots;
    <span class="hljs-keyword">const</span> city = slots[<span class="hljs-string">'city'</span>].value;
    <span class="hljs-keyword">const</span> name = slots[<span class="hljs-string">'name'</span>].value;
        
    <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`shout out to all my peoples from  : <span class="hljs-subst">${city}</span>. It was nice getting to know you <span class="hljs-subst">${name}</span>`</span>
    
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .withSimpleCard(<span class="hljs-string">'I learned where you are from'</span>, city)
            .getResponse();
  },
};</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <h1 id="helpintenthandler"><code>HelpIntentHandler</code></h1>
<p>The help intent handler will helpe the user when they ask for help</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> HelpIntentHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>
            &amp;&amp; handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'AMAZON.HelpIntent'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">'You can say hello an i will ask you your name. Or tell me where your from'</span>;

        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .reprompt(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <h1 id="cancelandstopintenthandler"><code>CancelAndStopIntentHandler</code></h1>
<p>A built in intent to handle the Cancel and Stop requests. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> CancelAndStopIntentHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>
            &amp;&amp; (handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'AMAZON.CancelIntent'</span>
                || handlerInput.requestEnvelope.request.intent.name === <span class="hljs-string">'AMAZON.StopIntent'</span>);
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">'Goodbye!'</span>;
        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <h1 id="sessionendedrequesthandler"><code>SessionEndedRequestHandler</code></h1>
<p>This is a built in request that notest the session is ended
Note: No auido is output by this intent as the session is ended. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> SessionEndedRequestHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'SessionEndedRequest'</span>;
    },
    handle(handlerInput) {</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Any cleanup logic goes here.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        <span class="hljs-keyword">return</span> handlerInput.responseBuilder.getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <h1 id="intentreflectorhandler"><code>IntentReflectorHandler</code></h1>
<p>The intent reflector is used for interaction model testing and debugging.
It will simply repeat the intent the user said. You can create custom handlers
for your intents by defining them above, then also adding them to the request
handler chain below.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
<span class="hljs-keyword">const</span> IntentReflectorHandler = {
    canHandle(handlerInput) {
        <span class="hljs-keyword">return</span> handlerInput.requestEnvelope.request.type === <span class="hljs-string">'IntentRequest'</span>;
    },
    handle(handlerInput) {
        <span class="hljs-keyword">const</span> intentName = handlerInput.requestEnvelope.request.intent.name;
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`You just triggered <span class="hljs-subst">${intentName}</span>`</span>;

        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>.reprompt(‘add a reprompt if you want to keep the session open for the user to respond’)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <h1 id="errorhandler"><code>ErrorHandler</code></h1>
<p>Generic error handling to capture any syntax or routing errors. If you receive an error
stating the request handler chain is not found, you have not implemented a handler for
the intent being invoked or included it in the skill builder below.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> ErrorHandler = {
    canHandle() {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    handle(handlerInput, error) {
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`~~~~ Error handled: <span class="hljs-subst">${error.message}</span>`</span>);
        <span class="hljs-keyword">const</span> speechText = <span class="hljs-string">`Sorry, I couldn't understand what you said. Please try again.`</span>;

        <span class="hljs-keyword">return</span> handlerInput.responseBuilder
            .speak(speechText)
            .reprompt(speechText)
            .getResponse();
    }
};</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <h1 id="isdefaultname"><code>isDefaultName</code></h1>
<p>This code will check to see if we set the slot to the default name. and return true if the user has not set there name. 
and the code is using the default value. 
Returns:
(true | false)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDefaultName</span>(<span class="hljs-params">intent, slots</span>)</span>{
  <span class="hljs-keyword">const</span> slotValues = getSlotValues(intent.slots);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'slot values:'</span>, <span class="hljs-built_in">JSON</span>.stringify(slotValues));
  <span class="hljs-keyword">let</span> result = <span class="hljs-literal">false</span>;</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>The default value is set</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
 <span class="hljs-keyword">if</span> (slotValues[<span class="hljs-string">'name'</span>].synonym === <span class="hljs-string">"slim shady"</span>) {
          result = <span class="hljs-literal">true</span>;
      }
  
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Results of Default Name:'</span>, result);
  <span class="hljs-keyword">return</span> result;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <h1 id="intentslotshavebeenfilled"><code>intentSlotsHaveBeenFilled</code></h1>
<p>Helper function to check to see if the slots have been filled. 
Given an intent and an array slots, intentSlotsHaveBeenFilled will determine
if all of the slots in the array have been filled.
Returns:
(true | false)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">intentSlotsHaveBeenFilled</span>(<span class="hljs-params">intent, slots</span>)</span>{
  <span class="hljs-keyword">const</span> slotValues = getSlotValues(intent.slots);
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'slot values:'</span>, <span class="hljs-built_in">JSON</span>.stringify(slotValues));
  <span class="hljs-keyword">let</span> result = <span class="hljs-literal">true</span>;
  slots.forEach(<span class="hljs-function"><span class="hljs-params">slot</span> =&gt;</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'intentSlotsHaveBeenFilled:'</span>, slot);
      <span class="hljs-keyword">if</span> (!slotValues[slot].value) {
          result = <span class="hljs-literal">false</span>;
      }
  });

  <span class="hljs-keyword">return</span> result;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <h1 id="getslotvalues"><code>getSlotValues</code></h1>
<p>Helper function to check to see if the slots have been filled by using resolutionsPerAuthority Response 
Given an array slots, getSlotValues will determine
if they have been matched with a predefined value 
Returns:
slotValues array key value pair</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSlotValues</span>(<span class="hljs-params">filledSlots</span>) </span>{
  <span class="hljs-keyword">const</span> slotValues = {};

  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`The filled slots: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(filledSlots)}</span>`</span>);
  <span class="hljs-built_in">Object</span>.keys(filledSlots).forEach(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> name = filledSlots[item].name;

    <span class="hljs-keyword">if</span> (filledSlots[item] &amp;&amp;
      filledSlots[item].resolutions &amp;&amp;
      filledSlots[item].resolutions.resolutionsPerAuthority[<span class="hljs-number">0</span>] &amp;&amp;
      filledSlots[item].resolutions.resolutionsPerAuthority[<span class="hljs-number">0</span>].status &amp;&amp;
      filledSlots[item].resolutions.resolutionsPerAuthority[<span class="hljs-number">0</span>].status.code) {
      <span class="hljs-keyword">switch</span> (filledSlots[item].resolutions.resolutionsPerAuthority[<span class="hljs-number">0</span>].status.code) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ER_SUCCESS_MATCH'</span>:
          slotValues[name] = {
            <span class="hljs-attr">synonym</span>: filledSlots[item].value,
            <span class="hljs-attr">resolved</span>: filledSlots[item].resolutions.resolutionsPerAuthority[<span class="hljs-number">0</span>].values[<span class="hljs-number">0</span>].value.name,
            <span class="hljs-attr">isValidated</span>: <span class="hljs-literal">true</span>,
          };
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'ER_SUCCESS_NO_MATCH'</span>:
          slotValues[name] = {
            <span class="hljs-attr">synonym</span>: filledSlots[item].value,
            <span class="hljs-attr">resolved</span>: filledSlots[item].value,
            <span class="hljs-attr">isValidated</span>: <span class="hljs-literal">false</span>,
          };
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
          <span class="hljs-keyword">break</span>;
      }
    } <span class="hljs-keyword">else</span> {
      slotValues[name] = {
        <span class="hljs-attr">synonym</span>: filledSlots[item].value,
        <span class="hljs-attr">resolved</span>: filledSlots[item].value,
        <span class="hljs-attr">isValidated</span>: <span class="hljs-literal">false</span>,
      };
    }
  }, <span class="hljs-keyword">this</span>);

  <span class="hljs-keyword">return</span> slotValues;
}</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <h1 id="getrandomphrase"><code>getRandomPhrase</code></h1>
<p>Helper function to check to see if the slots have been filled by using resolutionsPerAuthority Response 
Given an array slots, getSlotValues will determine
if they have been matched with a predefined value 
Returns:
a string contained within the array passed keeping Alexa ouput relatable </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRandomPhrase</span>(<span class="hljs-params">array</span>) </span>{</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>the argument is an array [] of words or phrases</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">const</span> i = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * array.length);
  <span class="hljs-keyword">return</span> (array[i]);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <h1 id="getuserdefaultname"><code>getUserDefaultName</code></h1>
<p>Helper function used to set a slot default name value 
Returns:
a string with the default value</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUserDefaultName</span>(<span class="hljs-params"></span>) </span>{
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">"slim shady"</span>
    
}</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <h1 id="exportshandler"><code>exports.handler</code></h1>
<p>When you define a skill you need to register your handlers with the skill 
Order matters they will be executed in the order they are added. 
Keep this is mind when adding them to the list. </p>

            </div>
            
            <div class="content"><div class='highlight'><pre>exports.handler = Alexa.SkillBuilders.custom()
    .addRequestHandlers(
        LaunchRequestHandler,
        HelloWorldIntentHandler,
        StarteddGettingToKnowYouHandler,
        InprogressGettingToKnowYouMoreHandler,
        delegateBacktoAlexaHandler,
        CompletedGettingToKnowYouHandler,
        HelpIntentHandler,
        CancelAndStopIntentHandler,
        SessionEndedRequestHandler,
        IntentReflectorHandler) <span class="hljs-comment">// make sure IntentReflectorHandler is last so it doesn't override your custom intent handlers</span>
    .addErrorHandlers(
        ErrorHandler)
    .lambda();</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
